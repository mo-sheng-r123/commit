"use strict";(self["webpackChunkcommity"]=self["webpackChunkcommity"]||[]).push([[190],{2767:function(e,t,a){a.d(t,{Z:function(){return u}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":this.query.page,"page-sizes":[5,10,15,20],"page-size":this.query.psize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],r={name:"Paging",props:{query:{type:Object,require:()=>{}},total:{type:Number,require:()=>{}}},data(){return{}},methods:{handleSizeChange(e){this.query.psize=e,this.loading=!1,this.$emit("paging")},handleCurrentChange(e){this.query.page=e,this.$emit("paging"),this.loading=!1}}},i=r,o=a(1001),s=(0,o.Z)(i,l,n,!1,null,"37f50908",null),u=s.exports},466:function(e,t,a){a.d(t,{Z:function(){return u}});var l=function(){var e=this,t=e._self._c;return t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"element-loading-background":"rgba(0, 0, 0, 0)"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),e._l(e.tableCouml,(function(a,l){return[a.isshow?t("el-table-column",{key:l,attrs:{label:a.label},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t(a.showname,null,{data:t.row})]}}],null,!0)}):t("el-table-column",{key:l,attrs:{prop:a.prop,label:a.label,width:a.width}})]}))],2)},n=[],r={name:"tablecom",props:{loading:{type:Boolean,default:()=>!0},tableData:{type:Array,default:()=>[]},tableCouml:{type:Array,default:()=>[]}},data(){return{}},created(){},methods:{handleSelectionChange(e){e.forEach((e=>{this.$emit("idshow",e.id)}))}}},i=r,o=a(1001),s=(0,o.Z)(i,l,n,!1,null,"8f316a3a",null),u=s.exports},4190:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var l=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"box-card"},[t("span",[e._v("职员管理")])]),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form",{ref:"form",attrs:{model:e.query,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}})],1),t("el-form-item",{attrs:{label:"职员类型"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.query.region,callback:function(t){e.$set(e.query,"region",t)},expression:"query.region"}},e._l(e.type,(function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"}},[e._v("查询")])],1)],1)],1)],1),t("el-row",[t("el-button",{attrs:{type:"primary"}},[e._v("添加")]),t("el-button",{attrs:{type:"danger"}},[e._v("批量删除")])],1),t("Table",{attrs:{loading:e.loading,tableData:e.tableData,tableCouml:e.tableCouml},on:{idshow:e.idshow},scopedSlots:e._u([{key:"sex",fn:function(a){return[t("p",[e._v(e._s(1==a.data.sex?"男":"女"))])]}},{key:"option",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.mod(a.data)}}},[e._v("修改")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(a.data)}}},[e._v("删除")])]}}])}),t("Paging",{attrs:{query:e.query,total:e.total},on:{paging:e.paging}})],1)},n=[],r=a(466),i=a(2767),o={data(){return{loading:!0,query:{page:1,psize:5},type:[],tableData:[],tableCouml:[{prop:"id",label:"ID"},{prop:"name",label:"姓名"},{prop:"typename",label:"职员类型"},{prop:"sex",label:"性别",isshow:!0,showname:"sex"},{prop:"cardid",label:"身份证号"},{prop:"mobile",label:"手机号"},{prop:"building",label:"管理小区"},{label:"操作",isshow:!0,showname:"option"}],total:0}},created(){this.gettype(),this.getimet()},components:{Table:r.Z,Paging:i.Z},methods:{paging(){this.getimet()},idshow(e){console.log(e)},async gettype(){let e=await this.http.get("/stafftype/list",this.query);1e4==e.errCode&&(this.type=e.data.list)},async getimet(){let e=await this.http.get("/staff/list",this.query);1e4==e.errCode&&(this.tableData=e.data.list,this.loading=!1,this.total=e.data.counts)}}},s=o,u=a(1001),p=(0,u.Z)(s,l,n,!1,null,"3a1c9af8",null),d=p.exports}}]);
//# sourceMappingURL=190.d124a00a.js.map