{"version":3,"file":"js/940.707a1b3e.js","mappings":"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","sources":["webpack://commity/./src/components/Building.vue","webpack://commity/./src/components/Buil/bulltian.vue","webpack://commity/src/components/Buil/bulltian.vue","webpack://commity/./src/components/Buil/bulltian.vue?f94f","webpack://commity/./src/components/Buil/bulltian.vue?54db","webpack://commity/./src/components/Buil/Terrbuil.vue","webpack://commity/src/components/Buil/Terrbuil.vue","webpack://commity/./src/components/Buil/Terrbuil.vue?fb77","webpack://commity/./src/components/Buil/Terrbuil.vue?eca3","webpack://commity/src/components/Building.vue","webpack://commity/./src/components/Building.vue?57ea","webpack://commity/./src/components/Building.vue?60ef"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-row',[_c('el-card',{staticClass:\"box-card\"},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('span',[_vm._v(\"楼栋管理\")]),_c('el-form-item',{staticStyle:{\"width\":\"30%\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入关键字进行过滤\"},model:{value:(_vm.form.key),callback:function ($$v) {_vm.$set(_vm.form, \"key\", $$v)},expression:\"form.key\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.addBulid}},[_vm._v(\"添加小区\")])],1)],1)],1)],1)],1),_c('Terrbuil',{attrs:{\"dialogVisible\":_vm.dialogVisible,\"isparent\":_vm.isparent},on:{\"chansgedialogVisible\":_vm.chansgedialogVisible,\"chan\":_vm.chan}}),_c('Bulltian',{attrs:{\"dialogVisible\":_vm.dialogVisible,\"parentdata\":_vm.parentdata,\"isparent\":_vm.isparent},on:{\"resetarentdata\":_vm.resetarentdata}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"28%\",\"center\":true,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"query\",attrs:{\"model\":_vm.query,\"label-width\":\"80px\"}},[_c('div',{staticClass:\"add\"},[_c('el-form-item',{attrs:{\"label\":\"楼栋pid：\"}},[_c('el-cascader',{attrs:{\"options\":this.$store.state.building.buildingdata,\"props\":{label:'name',value:'id',checkStrictly: true },\"clearable\":\"\"},model:{value:(_vm.pid),callback:function ($$v) {_vm.pid=$$v},expression:\"pid\"}})],1),_c('el-form-item',{attrs:{\"label\":\"名称：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.query.name),callback:function ($$v) {_vm.$set(_vm.query, \"name\", $$v)},expression:\"query.name\"}})],1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.satlop}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submit.apply(null, arguments)}}},[_vm._v(\"确 定\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n        <el-dialog\r\n            :title=\"title\"\r\n            :visible.sync=\"dialogVisible\"\r\n            width=\"28%\"\r\n            :center=\"true\"\r\n            :before-close=\"handleClose\">\r\n                <el-form ref=\"query\" :model=\"query\" label-width=\"80px\">\r\n                        <div class=\"add\">\r\n                            <el-form-item label=\"楼栋pid：\">\r\n                                <el-cascader v-model=\"pid\" :options=\"this.$store.state.building.buildingdata\" :props=\"{label:'name',value:'id',checkStrictly: true }\" clearable></el-cascader>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"名称：\">\r\n                                <el-input v-model=\"query.name\" placeholder=\"请输入\"></el-input>\r\n                            </el-form-item>\r\n                        </div>\r\n                </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"satlop\">取 消</el-button>\r\n                <el-button type=\"primary\"  @click=\"submit\" @keyup.native.enter=\"submit\">确 定</el-button>\r\n            </span>\r\n            </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'bulltian',\r\n    props:{\r\n        dialogVisible:{\r\n            type:Boolean,\r\n            default:false\r\n        },\r\n        parentdata:{\r\n            type:Object,\r\n            default:()=>{}\r\n        },\r\n        isparent:{\r\n            type:Boolean,\r\n            default:true\r\n        }\r\n    },\r\n    data(){\r\n        return{\r\n            title:'添加小区',\r\n            query:{},\r\n            modcom:{},\r\n            // trreData:[],\r\n            pid:[],\r\n        }\r\n    },\r\n    created(){\r\n        // 修改\r\n        this.$bus.$on('xiugai',(dom)=>{\r\n            this.modcom = dom\r\n        })\r\n        // 层级楼梯\r\n        this.$bus.$on('terrData',trre=>{\r\n            this.trreData = trre\r\n        }) \r\n        // // 添加子类方法二\r\n        //  this.$bus.$on('aaa',(dom)=>{\r\n        //     this.pis = dom\r\n        // })\r\n    },\r\n    updated(){\r\n        this.title = this.modcom.id?'修改小区':'添加小区'\r\n        this.query = this.modcom?this.modcom:{}   //将值赋给query里面\r\n\r\n        // 添加子类\r\n        if(!this.isparent){\r\n            this.pid = this.parentdata.id\r\n        }\r\n        \r\n        // console.log(this.parentdata.id)\r\n        // console.log(this.pid)\r\n    },\r\n    methods:{\r\n        // 确定\r\n        async submit(){\r\n            // console.log(typeof this.pid)\r\n            if(typeof this.pid == 'number'){\r\n                this.query.pid = this.pid\r\n            }else{\r\n                this.query.pid = this.pid.length?this.pid.pop():0\r\n            }\r\n            \r\n            // 添加子类方法二\r\n                // if(!this.add.length){\r\n                //     this.query.pid = this.add\r\n                // }else{\r\n                //     this.query.pid = this.add.pop()\r\n                // }\r\n\r\n            let res = await this.http.post('/building/add',this.query)\r\n            // console.log(res)\r\n            if(res.errCode == 10000){\r\n                this.$message.success('添加成功')\r\n                this.$bus.$emit('chansgedialogVisible', false);\r\n                this.modcom = {}\r\n                // this.$emit('resetarentdata');\r\n                // this.pid = []\r\n                // console.log(this.query)\r\n            }\r\n            \r\n        },\r\n        // 取消\r\n        satlop(){\r\n            this.$bus.$emit('chansgedialogVisible', false);\r\n        },\r\n        // 添加\r\n        handleClose(done) {\r\n        this.$confirm(\"确认关闭？\")\r\n            .then(() => {\r\n                this.$bus.$emit('chansgedialogVisible', false);\r\n            // done();\r\n            })\r\n            .catch(() => {});\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    /deep/.el-form .el-input__inner{\r\n        border: 1px solid #ccc !important;\r\n    }\r\n    .add{\r\n        margin-left: 35px;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./bulltian.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./bulltian.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bulltian.vue?vue&type=template&id=561a401d&scoped=true&\"\nimport script from \"./bulltian.vue?vue&type=script&lang=js&\"\nexport * from \"./bulltian.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bulltian.vue?vue&type=style&index=0&id=561a401d&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"561a401d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-tree',{attrs:{\"data\":this.$store.state.building.buildingdata?this.$store.state.building.buildingdata:_vm.terrData,\"props\":_vm.props,\"show-checkbox\":false,\"node-key\":\"id\",\"default-expand-all\":false,\"expand-on-click-node\":false},scopedSlots:_vm._u([{key:\"default\",fn:function({ node, data }){return _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_vm._v(_vm._s(node.label))]),_c('span',[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.sons(data)}}},[_vm._v(\" 添加子类 \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.dom(data)}}},[_vm._v(\" 修改 \")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.del(data)}}},[_vm._v(\" 删除 \")])],1)])}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-tree\r\n      :data=\"this.$store.state.building.buildingdata?this.$store.state.building.buildingdata:terrData\"\r\n      :props=\"props\"\r\n      :show-checkbox=\"false\"\r\n      node-key=\"id\"\r\n      :default-expand-all=\"false\"\r\n      :expand-on-click-node=\"false\">\r\n      <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n        <span>{{ node.label }}</span>\r\n        <span>\r\n          <el-button type=\"success\" size=\"mini\" @click=\"sons(data)\">\r\n            添加子类\r\n          </el-button>\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"dom(data)\">\r\n            修改\r\n          </el-button>\r\n          <el-button type=\"danger\" size=\"mini\" @click=\"del(data)\">\r\n            删除\r\n          </el-button>\r\n        </span>\r\n      </span>\r\n    </el-tree>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet id = 1000;\r\n\r\n  export default {\r\n    props:{\r\n      dialogVisible:{\r\n        type:Boolean,\r\n         default:false\r\n      },\r\n      isparent:{\r\n            type:Boolean,\r\n            default:true\r\n        }\r\n    },\r\n    data() {\r\n      return {\r\n        terrData:[],\r\n        props:{\r\n            label:'name',\r\n            children:'children'\r\n        },\r\n        modcom:{},\r\n        dia:''\r\n      }\r\n    },\r\n    created(){\r\n        this.getimte()\r\n        this.dia = this.dialogVisible\r\n        // 兄弟传值\r\n        this.$bus.$on('chansgedialogVisible',(data)=>{\r\n          // 子传父\r\n            this.$emit('chan',data)\r\n            this.getimte()\r\n        })\r\n\r\n    },\r\n    methods:{\r\n      // 添加子类\r\n      sons(data){\r\n        this.$emit('chansgedialogVisible',true,data,false)\r\n        \r\n        // // 添加子类方法二\r\n        // this.$bus.$emit('aaa',data.id)\r\n        // this.$emit('chansgedialogVisible', true);\r\n      },\r\n        // 修改\r\n          dom(data){\r\n            // this.$emit('chansgedialogVisible',true,data,false)\r\n            this.modcom = JSON.parse(JSON.stringify(data))\r\n            this.$bus.$emit('xiugai',this.modcom)\r\n            this.$emit('chansgedialogVisible', true);\r\n            // this.getimte()\r\n          },\r\n        // 删除\r\n         del(data){\r\n          if(data.children!=null){\r\n            this.$message.error('暂时不能删除')\r\n            return\r\n          }\r\n        this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(async () => {\r\n          let res = await this.http.get('/building/delete',{id:data.id})\r\n            if(res.errCode == 10000){\r\n                this.$message.success('删除成功')\r\n                let res = await this.http.get('/building/list')\r\n                // console.log(res)\r\n                if(res.errCode == 10000){\r\n                    this.terrData = res.data.list\r\n                    // 兄弟传值\r\n                    // this.$bus.$emit('terrData',this.terrData)\r\n                    this.$store.commit('setbuilding',res.data.list)\r\n              } \r\n            }\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });          \r\n        });\r\n\r\n        },\r\n        // 列表\r\n        async getimte(){\r\n\r\n          if(this.$store.state.building.buildingdata){\r\n            this.terrData = this.$store.state.building.buildingdata\r\n          }else{\r\n           \r\n              let res = await this.http.get('/building/list')\r\n              // console.log(res)\r\n              if(res.errCode == 10000){\r\n                  this.terrData = res.data.list\r\n                  // 兄弟传值\r\n                  // this.$bus.$emit('terrData',this.terrData)\r\n                  this.$store.commit('setbuilding',res.data.list)\r\n            } \r\n            console.log(this.$store.state.building.buildingdata)\r\n          } \r\n        },\r\n\r\n        append(data) {\r\n        const newChild = { id: id++, label: 'testtest', children: [] };\r\n        if (!data.children) {\r\n          this.$set(data, 'children', []);\r\n        }\r\n        data.children.push(newChild);\r\n      },\r\n\r\n      remove(node, data) {\r\n        const parent = node.parent;\r\n        const children = parent.data.children || parent.data;\r\n        const index = children.findIndex(d => d.id === data.id);\r\n        children.splice(index, 1);\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-tree{\r\n    background-color: transparent;\r\n}\r\n.custom-tree-node {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 14px;\r\n    padding-right: 8px;\r\n  }\r\n/deep/.el-tree-node__content{\r\n    height: 40px !important;\r\n  }\r\n  .el-tree{\r\n    margin-top: 25px;\r\n    margin-left: 30px;\r\n    width: 50%;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Terrbuil.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Terrbuil.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Terrbuil.vue?vue&type=template&id=75045358&scoped=true&\"\nimport script from \"./Terrbuil.vue?vue&type=script&lang=js&\"\nexport * from \"./Terrbuil.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Terrbuil.vue?vue&type=style&index=0&id=75045358&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75045358\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <el-row>\r\n      <el-card class=\"box-card\">\r\n        <el-col :span=\"24\">\r\n          <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n            <span>楼栋管理</span>\r\n            <el-form-item style=\"width: 30%\">\r\n              <el-input\r\n                v-model=\"form.key\"\r\n                placeholder=\"输入关键字进行过滤\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\">查询</el-button>\r\n              <el-button type=\"success\" @click=\"addBulid\">添加小区</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n      </el-card>\r\n    </el-row>\r\n    <!-- 表格 -->\r\n      <Terrbuil :dialogVisible=\"dialogVisible\" :isparent=\"isparent\" @chansgedialogVisible=\"chansgedialogVisible\" @chan=\"chan\" ></Terrbuil>\r\n    <!-- 添加 -->\r\n      <Bulltian :dialogVisible=\"dialogVisible\" :parentdata=\"parentdata\" :isparent=\"isparent\" @resetarentdata=\"resetarentdata\"></Bulltian>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Bulltian from '@/components/Buil/bulltian.vue'\r\nimport Terrbuil from '@/components/Buil/Terrbuil.vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      form: {},\r\n      dialogVisible: false,\r\n      // power:[]\r\n      isparent:true,\r\n      parentdata:{}\r\n    };\r\n  },\r\n  components: {\r\n    Bulltian,\r\n    Terrbuil\r\n  },\r\n  created() {\r\n    this.getimte()\r\n    // this.power = this.$power.getownpriv('角色管理管理')\r\n    // console.log(this.power)\r\n  },\r\n  methods: { \r\n    resetarentdata(){\r\n      this.parentdata = {}\r\n    },\r\n    // 传递\r\n    chansgedialogVisible(val,data={},isparent=true){\r\n      this.dialogVisible = val\r\n      if(data){\r\n          this.parentdata = data\r\n      }\r\n      this.isparent = isparent\r\n     \r\n    },\r\n    chan(val){\r\n      this.dialogVisible = val\r\n      this.getimte()\r\n    },\r\n    // 列表\r\n        async getimte(){\r\n          // if(this.$store.state.building.buildingdata){\r\n          //   this.terrData = this.$store.state.building.buildingdata\r\n          // }else{\r\n              let res = await this.http.get('/building/list')\r\n              // console.log(res)\r\n              if(res.errCode == 10000){\r\n                  this.terrData = res.data.list\r\n              \r\n                  this.$store.commit('setbuilding',res.data.list)\r\n            }\r\n          // } \r\n\r\n        },\r\n   \r\n    // 添加\r\n    addBulid(){\r\n      this.dialogVisible = true\r\n    },\r\n    handleClose(done) {\r\n      this.$confirm(\"确认关闭？\")\r\n        .then(() => {\r\n          done();\r\n        })\r\n        .catch(() => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"../assets/css/admin.css\";\r\nspan {\r\n  font-size: 17px;\r\n}\r\n.el-form-item {\r\n  margin-top: -10px;\r\n  margin-left: -50px;\r\n}\r\n.el-table--border{\r\n  border: 0px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Building.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Building.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Building.vue?vue&type=template&id=02cc4eaf&scoped=true&\"\nimport script from \"./Building.vue?vue&type=script&lang=js&\"\nexport * from \"./Building.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Building.vue?vue&type=style&index=0&id=02cc4eaf&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02cc4eaf\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","ref","form","_v","staticStyle","model","value","key","callback","$$v","$set","expression","on","addBulid","dialogVisible","isparent","chansgedialogVisible","chan","parentdata","resetarentdata","staticRenderFns","title","handleClose","$event","query","$store","state","building","buildingdata","label","checkStrictly","pid","name","slot","satlop","submit","nativeOn","type","indexOf","_k","keyCode","apply","arguments","props","default","data","modcom","created","updated","methods","then","catch","component","terrData","scopedSlots","_u","fn","node","_s","sons","dom","del","id","children","dia","confirmButtonText","cancelButtonText","message","console","append","remove","loading","components","Bulltian","Terrbuil","done"],"sourceRoot":""}